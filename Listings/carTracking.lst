C51 COMPILER V9.54   CARTRACKING                                                           11/27/2024 21:20:25 PAGE 1   


C51 COMPILER V9.54, COMPILATION OF MODULE CARTRACKING
OBJECT MODULE PLACED IN .\Objects\carTracking.obj
COMPILER INVOKED BY: D:\mcu\Keil5\C51\BIN\C51.EXE carTracking.c OPTIMIZE(8,SPEED) BROWSE DEBUG OBJECTEXTEND PRINT(.\List
                    -ings\carTracking.lst) OBJECT(.\Objects\carTracking.obj)

line level    source

   1          #include <REGX52.H>
   2          #include <intrins.h>
   3          #include "carMovement.h"
   4          
   5          sbit Left_0 =   P3^7;
   6          sbit Left_1 =   P3^6;
   7          sbit Middle_0 = P3^5; 
   8          sbit Middle_1 = P1^2; 
   9          sbit Right_0 =  P1^1;
  10          sbit Right_1 =  P1^0;
  11          
  12          unsigned char valueState = 0;
  13          unsigned char previousStates = 0;
  14          
  15          //黑线是0，白线是1
  16          void ChangeState() //调整小车冲出赛道的状态
  17          {
  18   1          if (previousStates == 0)
  19   1          {
  20   2              carMoveBackward();
  21   2          }
  22   1          else if (previousStates == 1)
  23   1          {
  24   2              carSharpRight(); //我不确定SharpRight是不是有点太sharp了
  25   2          }
  26   1          else if (previousStates == 2)
  27   1          {
  28   2              carSharpLeft();
  29   2          }
  30   1      }
  31          
  32          void Tracking()
  33          {
  34   1          //左边检查到黑线，但是右边nil
  35   1          if ((Left_0 == 0 || Left_1 == 0 || Middle_0 == 0) && (Right_0 == 1 && Right_1 == 1 && Middle_1 == 1))
  36   1          {
  37   2              if (Left_0 == 0)
  38   2              {
  39   3                  Fliping = 0;
  40   3                  carSharpLeft();
  41   3              }
  42   2              else if (Left_1 == 0)
  43   2              {
  44   3                  Fliping = 1;
  45   3                  carTurnLeft(2);
  46   3              }
  47   2              else if (Middle_0 == 0)
  48   2              {
  49   3                  Fliping = 0;
  50   3                  carTurnLeft(1);
  51   3              }
  52   2          }
  53   1          //右边检查到黑线，但是左边是nil
  54   1          else if ((Left_0 == 1 && Left_1 == 1 && Middle_0 == 1) && (Right_0 == 0 || Right_1 == 0 || Middle_1 ==
C51 COMPILER V9.54   CARTRACKING                                                           11/27/2024 21:20:25 PAGE 2   

             - 0))
  55   1          {
  56   2              if (Right_1 == 0)
  57   2              {
  58   3                  Fliping = 0;
  59   3                  carSharpRight();
  60   3              }
  61   2              else if (Right_0 = 0)
*** WARNING C276 IN LINE 61 OF carTracking.c: constant in condition expression
  62   2              {
  63   3                  Fliping = 1;
  64   3                  carTurnRight(2);
  65   3              }
  66   2              else if (Middle_1 == 0)
  67   2              {
  68   3                  Fliping = 0;
  69   3                  carTurnRight(1);
  70   3              }
  71   2          }
  72   1          else if ((Left_0 == 0 && Left_1 == 0 && Middle_0 == 0 && Middle_1 == 0 && Right_0 == 0 && Right_1 == 0
             -) || (Middle_0 == 0 && Middle_1 == 0) || (Middle_0 == 0 && Middle_1 == 0 && Right_0 == 0 && Left_0 == 0))
  73   1          { 
  74   2              carMoveForward(2); //暴力直走
  75   2          }
  76   1          else if ((Left_0 == 1 && Left_1 == 1 && Middle_0 == 1 && Middle_1 == 1 && Right_0 == 1 && Right_1 == 1
             -))
  77   1          {
  78   2              ChangeState(); //sb小车冲出赛道了 用函数调整一下
  79   2          }
  80   1          else
  81   1          {
  82   2           
  83   2          }
  84   1          
  85   1      
  86   1          if (valueState != States)   /*记忆上一次的状态*/
  87   1          {
  88   2              previousStates = valueState;
  89   2              valueState = States;
  90   2          }
  91   1      }
*** WARNING C294 IN LINE 63 OF carTracking.c: unreachable code


MODULE INFORMATION:   STATIC OVERLAYABLE
   CODE SIZE        =    205    ----
   CONSTANT SIZE    =   ----    ----
   XDATA SIZE       =   ----    ----
   PDATA SIZE       =   ----    ----
   DATA SIZE        =      2    ----
   IDATA SIZE       =   ----    ----
   BIT SIZE         =   ----    ----
END OF MODULE INFORMATION.


C51 COMPILATION COMPLETE.  2 WARNING(S),  0 ERROR(S)
